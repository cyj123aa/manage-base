<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.hoolink.manage.base.dao.mapper.ext.UserMapperExt">

    <select id="getDeptByUser" parameterType="java.lang.Long" resultType="com.hoolink.sdk.bo.manager.DeptSecurityRepertoryBO">
        select
        mud.encry_level_dept encryLevelDept,
        md.dept_type deptType,
        md.id deptId,
        mu.encry_level_company encryLevelCompany
        from middle_user_department mud
        inner join manage_department md on md.id=mud.dept_id
        inner join manage_user mu on mu.id=mud.user_id
        where mud.user_id=#{id}
    </select>
</mapper>